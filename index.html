<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pocetna</title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="style.css">
    <script src="korisniciscript.js"></script>

    <script src="ucitavanja/inicijalizacija-storage.js"></script>

</head>
<body style="background-color: rgb(226, 225, 179);" >

    <div class="container-fluid"> 

        <div class="row" style="background-color: rgb(116, 110, 58);">
            <div class="col-3 col-md-2" style="text-align: center;vertical-align: middle;">
                <img src="images/logo.jfif" style="width: 80px; margin: auto; padding-top: 4vh; padding-bottom: 4vh;">
            </div>
            <div class="col-6 col-md-8" style="text-align: center;vertical-align: middle;">
               <h1 class="slova headerslova" style="padding-top: 6vh;">Vladova kuhinja</h1>
            </div>

            <div class="col-3 col-md-2">
                <script src="navigation.js"></script>
            </div>

            
        </div>


        <div class="row" >
            <div class="col-12 col-lg-6 col-xl-4 order-2 order-lg-1" style="text-align: center; margin: auto; vertical-align: middle; margin-top: 50px; margin-bottom: 50px;">
                <img src="images/index.jpg" width="500px" height="500px">
                
            </div>

            <div class="col-12 col-lg-5 col-xl-5 text-lg-left order-1 order-lg-2 mt-5 mt-lg-0" style="flex-direction: column; display:flex ; justify-content:center; text-align: center; margin-bottom: 25px;">
                <p class="slova obicnaslova">Zelite da naucite da kuvate?</p>
                <p class="slova obicnaslova">Veliki broj recepata mozete naci na nasem sajtu koji su proizvod kuvara, koji su godinama jedni od najboljih u svojoj struci.</p>
                <p class="slova obicnaslova">Ako zelis da nasim citaocima otkrijes neke svoje ukusne recepte, mozes se registrovati i ostaviti recept da svi u njemu mogu da uzivaju.</p>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col text-center">
                <p class="slova obicnaslova">Ako niste zainteresovani, pogledajte neke od najboljih recepata i mozda vam se promeni misljenje!</p>
                
            </div>
        </div>

            <script>
                function ucitajrecept(idRece) {

                    localStorage.setItem("currentRecepie", idRece)
                    window.location.href = "detaljnorecept.html"
                }
                recepti = JSON.parse(localStorage.getItem("recepti"))
                recepti.sort(function(r1 , r2) {
                    return r2.prosecnaocena - r1.prosecnaocena
                })
                for (let i = 0 ; i < 3; i++) {
                    galerija = '<div class="carousel-inner">'
                    if (recepti[i].slike.length == 0) {
                        galerija += '<div class="carousel-item active"><img class="d-block w-100" src="images/slikakadnemanista.png" alt="0"></div>'
                    }
                    else {

                        for (let j = 0 ; j < recepti[i].slike.length; j++) {
                            if (j == 0) galerija += `<div class="carousel-item active"><img class="d-block w-100" src="${recepti[i].slike[j]}" alt="0" width=""></div>`
                            else galerija += `<div class="carousel-item"><img class="d-block w-100" src="${recepti[i].slike[j]}" alt="${j}"></div>` 

                        }
                    }
                    galerija += '</div>'

                    sastojci = ""

                    for (let j = 0 ; j < recepti[i].sastojci.length ; j++) {
                        sastojak = recepti[i].sastojci[j].kolicina + " " + recepti[i].sastojci[j].sastojak
                        sastojci += '<li class="obicnaslova slova">'+ sastojak +'</li>'
                    }

                    document.write(`
                    <div class="row" style="margin-top:100px">
                        <div class="col-12 col-xl-8" >
                            <table class="table table-bordered" style="text-align: center;">
                                <tr>
                                    <th class="slova obicnaslova" font-size: 40px; ">` + recepti[i].naziv + `
                                    </th>
                                </tr>
                                <tr >
                                    <td c>
                                        <div id="carouselExampleControls${i}" class="carousel slide velicinaslikeSlide" data-ride="carousel">
                                            ${galerija}
                                            <a class="carousel-control-prev" href="#carouselExampleControls${i}" role="button" data-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Previous</span>
                                            </a>
                                            <a class="carousel-control-next" href="#carouselExampleControls${i}" role="button" data-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Next</span>
                                            </a>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="offset-2 offset-md-3 offset-lg-4 offset-xl-0 col-6 col-xl-3" style="padding-top: calc(25vw - 250px)" class="text-center">
                            <ol>
                            ${sastojci}
                            </ol>
                        </div>
                        <div class="col-12 col-xl-8" style="text-align: center; padding-top:30px">
                            <p class="slova obicnaslova">Ako hoces da saznas vise pritisni <b><a class="nazivjezapreko" onclick="ucitajrecept('${recepti[i].id}')">Link</a></b></p>
                            
                        </div>
                    </div>
                    
                    `)
                }
            </script>


        <div class="row">
            <div class="col" style="background-color: rgb(116, 110, 58);text-align: center;vertical-align: middle; margin-top: 50px;">
                <h3 class="slova" style="padding: 25px; margin-bottom: 25px;">Copyright 2021, Vlade Vulovic, Odsek za softversko inzenjerstvo Elektrotehnickog fakulteta Univerziteta u Beogradu</h3>
            </div>
        </div>
    
        
    </div>
    
</body>
</html>